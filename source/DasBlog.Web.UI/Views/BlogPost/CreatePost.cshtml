@model DasBlog.Web.Models.BlogViewModels.PostViewModel
@using DasBlog.Core.Common;

<form asp-controller="post" asp-action="create" method="post" enctype="multipart/form-data">
    <div class="modal-body form-horizontal">

        <div class="form-group">
            <div class="col-sm-6">
                <div asp-validation-summary="All" class="text-danger"></div>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="Title" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-9">
                <input asp-for="Title" class="form-control"/>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="CreatedDateTime" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-9">
                <input asp-for="CreatedDateTime" class="form-control"/>
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="Content" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-9" style="height: 500px;">
                <rich-edit name="content" id="mytextarea">@Model.Content</rich-edit>
                        @* uses nicEdit-main class *@
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="Description" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-6">
                @Html.EditorFor(x => x.Description)
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="AllowComments" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-6">
                @Html.CheckBoxFor(x => x.AllowComments)
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="IsPublic" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-6">
                @Html.CheckBoxFor(x => x.IsPublic)
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="Syndicated" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-6">
                @Html.CheckBoxFor(x => x.Syndicated)
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="Categories" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-6">
                @if (Model != null && Model.AllCategories != null)
                {
                    for (int i = 0; i < Model.AllCategories.Count; i++)
                    {
                        <input asp-for="@Model.AllCategories[i].Checked" type="checkbox"/>
                        <label asp-for="@Model.AllCategories[i].Category">@Model.AllCategories[i].Category</label>
                        <input asp-for="@Model.AllCategories[i].Category" type="hidden"/>
                        <input asp-for="@Model.AllCategories[i].CategoryUrl" type="hidden"/>
                    }
                }
                <input asp-for="@Model.NewCategory" type="text"/>
                <input value="Add" class="btn" type="submit" name="submit"/>
            </div>
        </div>
        <div class="col-sm-3 offset-3 ">
            <span asp-validation-for="@Model.NewCategory" class="text-danger"></span>
        </div>
        <div class="col-sm-2">
            <input type="file" name="Image" accept="image/jpeg,image/gif,image/png"/>
            <input type="submit" name="submit" value="@Constants.UploadImageAction" class="btn"/>
        </div>
        <div class="form-group row">
            <label asp-for="Language" class="col-sm-2 control-label"></label>
            <select asp-for="Language" class="col-sm-6" asp-items="Model.Languages"></select>
        </div>
        <div class="form-group row">
            <div class="col-sm-6">
                <input type="submit" name="submit" value="Create"/>
                <input asp-controller="Home" asp-action="Index" type="submit" name="submit" value="Cancel"/>
            </div>
        </div>
    </div>

    @Html.HiddenFor(m => m.EntryId)
    @Html.HiddenFor(m => m.Author)
    @Html.HiddenFor(m => m.CreatedDateTime)

</form>
 
@section scripts {
    <rich-edit-scripts control-id="mytextarea"/>
   
}